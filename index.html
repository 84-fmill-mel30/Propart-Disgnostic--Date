<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>PROPART V12 - OPERACIÃ“N REAL</title>
    <style>
        :root { --neon: #00ffcc; --pink: #ff33cc; --bg: #0b0e14; }
        body { background: var(--bg); color: var(--neon); font-family: 'Courier New', Courier, monospace; margin: 0; }
        .top-bar { padding: 10px 20px; border-bottom: 2px solid var(--neon); display: flex; justify-content: space-between; background: #161b22; }
        .main-layout { display: flex; height: 90vh; }
        #render-3d { flex: 2; border: 1px solid #222; margin: 15px; position: relative; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle, #1a232e 0%, #0b0e14 100%); }
        #sidebar { flex: 1; background: #161b22; padding: 20px; border-left: 2px solid var(--neon); overflow-y: auto; }
        .btn-pwr { width: 100%; padding: 15px; margin: 10px 0; background: transparent; border: 1px solid var(--neon); color: var(--neon); font-weight: bold; cursor: pointer; text-transform: uppercase; }
        .btn-pwr:hover { background: var(--neon); color: #000; box-shadow: 0 0 20px var(--neon); }
        .monitor-dual { background: #000; padding: 20px; border: 1px solid var(--pink); border-radius: 5px; margin-top: 20px; }
        .val { font-size: 28px; color: #fff; text-shadow: 0 0 5px var(--neon); }
        #console { font-size: 12px; color: #666; padding: 10px; height: 60px; border: 1px solid #333; overflow: hidden; }
    </style>
</head>
<body>

<div class="top-bar">
    <div><strong>PROPART V12</strong> | BASE: PRO PART DATE</div>
    <div id="vlink-tag" style="color: #444;">V-LINK DISCONNECTED ðŸ”´</div>
</div>

<div class="main-layout">
    <div id="render-3d">
        <div id="display-engine" style="text-align: center;">
            <h2 id="msg-central" style="color: #333;">SISTEMA EN ESPERA...</h2>
            <div id="canvas-sim" style="width: 300px; height: 100px; border: 1px solid #333; display: none; align-items: center; justify-content: center;">
                <div style="width: 80%; height: 2px; background: var(--neon); box-shadow: 0 0 10px var(--neon);"></div>
            </div>
        </div>
    </div>

    <div id="sidebar">
        <div id="console">> Sistema listo. Esperando al socio Millan...</div>
        
        <button class="btn-pwr" onclick="scannerVLink()">Scanner V-Link</button>
        <button class="btn-pwr" onclick="sincroRealTime()">Sincro CKP/CMP</button>
        <button class="btn-pwr" onclick="calibrarTBA()">Calibrar TBA</button>
        
        <div class="monitor-dual">
            <small>MONITOR DUAL - PRO PART DATE</small>
            <div>APP1: <span id="val1" class="val">---</span> V</div>
            <div>APP2: <span id="val2" class="val">---</span> V</div>
        </div>
        
        <button class="btn-pwr" style="margin-top: 20px; border-color: #666; color: #666;">Mapeo DLC (Pin 7)</button>
    </div>
</div>

<script>
    const consoleLog = document.getElementById('console');
    
    function scannerVLink() {
        consoleLog.innerHTML = "> Buscando hardware V-Link en puerto serial...";
        setTimeout(() => {
            document.getElementById('vlink-tag').innerHTML = "V-LINK CONNECTED ðŸŸ¢";
            document.getElementById('vlink-tag').style.color = "#00ffcc";
            consoleLog.innerHTML = "> UID: VLNK-PRO-V12 Detectado. <br> Acceso concedido a PRO PART DATE.";
            alert("Â¡Ya tenemos comunicaciÃ³n con el coche, carnal!");
        }, 1000);
    }

    function calibrarTBA() {
        consoleLog.innerHTML = "> Iniciando secuencia de aprendizaje (TBA)...";
        document.getElementById('msg-central').innerHTML = "CALIBRANDO MARIPOSA...";
        document.getElementById('msg-central').style.color = "#ff33cc";
        
        let count = 0;
        let tbaInterval = setInterval(() => {
            document.getElementById('val1').innerText = (Math.random() * (4.2 - 0.8) + 0.8).toFixed(3);
            document.getElementById('val2').innerText = (Math.random() * (2.1 - 0.4) + 0.4).toFixed(3);
            count++;
            if(count > 15) {
                clearInterval(tbaInterval);
                document.getElementById('val1').innerText = "0.512";
                document.getElementById('val2').innerText = "0.256";
                document.getElementById('msg-central').innerHTML = "ADAPTACIÃ“N OK";
                consoleLog.innerHTML = "> Valores guardados. Ajuste bÃ¡sico finalizado.";
            }
        }, 150);
    }

    function sincroRealTime() {
        document.getElementById('canvas-sim').style.display = "flex";
        document.getElementById('msg-central').innerHTML = "FASE DE MOTOR";
        consoleLog.innerHTML = "> Analizando CKP/CMP... <br> SincronizaciÃ³n perfecta 0.0Â°";
    }
</script>

</body>
</html>
